<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>GuKaifeng</title><meta name="author" content="GuKaifeng"><meta name="copyright" content="GuKaifeng"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta property="og:type" content="website">
<meta property="og:title" content="GuKaifeng">
<meta property="og:url" content="https://gukaifeng.me/page/7/index.html">
<meta property="og:site_name" content="GuKaifeng">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://gukaifeng.me/img/avatar.png">
<meta property="article:author" content="GuKaifeng">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://gukaifeng.me/img/avatar.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://gukaifeng.me/page/7/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.5/dist/instantsearch.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.5/dist/instantsearch.min.js" defer></script><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: {"appId":"NJKGKBCOFC","apiKey":"05cbbebf02440c4bb8fd59255717595b","indexName":"Hexo algolia search","hits":{"per_page":10},"languages":{"input_placeholder":"æœç´¢æ–‡ç« ","hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}","hits_stats":"æ‰¾åˆ° ${hits} æ¡ç»“æœï¼Œç”¨æ—¶ ${time} æ¯«ç§’"}},
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç®€"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"è¯·æ³¨æ„ï¼Œè¿™ç¯‡æ–‡ç« è·ç¦»ä¸Šæ¬¡æ›´æ–°å·²ç»è¿‡å»","messageNext":"å¤©äº†ï¼Œå†…å®¹å¯èƒ½ä¼šæœ‰äº›è¿‡æ—¶ã€‚"},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'å¤©',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"ä½ å·²åˆ‡æ¢ä¸ºç¹ä½“","cht_to_chs":"ä½ å·²åˆ‡æ¢ä¸ºç®€ä½“","day_to_night":"ä½ å·²åˆ‡æ¢ä¸ºæ·±è‰²æ¨¡å¼","night_to_day":"ä½ å·²åˆ‡æ¢ä¸ºæµ…è‰²æ¨¡å¼","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}

// https://stackoverflow.com/questions/16839698/jquery-getscript-alternative-in-native-javascript
const getScript = url => new Promise((resolve, reject) => {
  const script = document.createElement('script')
  script.src = url
  script.async = true
  script.onerror = reject
  script.onload = script.onreadystatechange = function() {
    const loadState = this.readyState
    if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
    script.onload = script.onreadystatechange = null
    resolve()
  }
  document.head.appendChild(script)
})</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2020-12-31 13:55:06'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
   if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }
  const autoChangeMode = 'false'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified
    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }const asideStatus = saveToLocal.get('aside-status')
if (asideStatus !== undefined) {
   if (asideStatus === 'hide') {
     document.documentElement.classList.add('hide-aside')
   } else {
     document.documentElement.classList.remove('hide-aside')
   }
}})()</script><link rel="stylesheet" href="/css/custom.css"><meta name="generator" content="Hexo 5.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">100</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">102</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">15</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> ä¸»é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äº</span></a></div></div></div></div><div id="body-wrap"><header class="full_page" id="page-header" style="background-image: url(/img/banner.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">GuKaifeng</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> æœç´¢</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> ä¸»é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äº</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">GuKaifeng</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="mailto:forjobs@gukaifeng.me" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2020/03/07/BeautifulSoup%E5%BA%93%E5%85%A5%E9%97%A8/" title="BeautifulSoupåº“å…¥é—¨">BeautifulSoupåº“å…¥é—¨</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">å‘è¡¨äº</span><time datetime="2020-03-06T16:33:44.000Z" title="å‘è¡¨äº 2020-03-07 00:33:44">2020-03-07</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/Python%E7%88%AC%E8%99%AB/">Pythonçˆ¬è™«</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/Python/">Python</a><span class="article-meta__link">â€¢</span><a class="article-meta__tags" href="/tags/bs4/">bs4</a><span class="article-meta__link">â€¢</span><a class="article-meta__tags" href="/tags/BeautifulSoup/">BeautifulSoup</a><span class="article-meta__link">â€¢</span><a class="article-meta__tags" href="/tags/%E7%88%AC%E8%99%AB/">çˆ¬è™«</a></span></div><div class="content">Beautiful Soup is a Python library for pulling data out of HTML and XML files. It works with your favorite parser to provide idiomatic ways of navigating, searching, and modifying the parse tree. It commonly saves programmers hours or days of work.
1. BeautifulSoupåº“çš„å®‰è£…ç»ˆç«¯å®‰è£…æ–¹æ³•æ–¹æ³•ï¼špip install beautifulsoup4ã€‚æˆ‘è¿™é‡Œå…¶å®è¿˜æ˜¯ç”¨äº†Anacondaè½¯ä»¶ï¼Œæ¥å¸®åŠ©æˆ‘ç®¡ç†å„ç§PythonåŒ…ã€‚
ä¸‹é¢æˆ‘ä»¬å¯¹BeautifulSoupåº“çš„å®‰è£…åšä¸€ä¸ªç®€å•çš„å°æµ‹ã€‚


1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2020/03/05/Requests%E5%BA%93%E7%88%AC%E5%8F%96%E5%AE%9E%E4%BE%8B/" title="Requestsåº“çˆ¬å–å®ä¾‹">Requestsåº“çˆ¬å–å®ä¾‹</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">å‘è¡¨äº</span><time datetime="2020-03-05T14:46:45.000Z" title="å‘è¡¨äº 2020-03-05 22:46:45">2020-03-05</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/Python%E7%88%AC%E8%99%AB/">Pythonçˆ¬è™«</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/Python/">Python</a><span class="article-meta__link">â€¢</span><a class="article-meta__tags" href="/tags/%E7%88%AC%E8%99%AB/">çˆ¬è™«</a><span class="article-meta__link">â€¢</span><a class="article-meta__tags" href="/tags/Requests/">Requests</a></span></div><div class="content">1. äº¬ä¸œå•†å“é¡µé¢çš„çˆ¬å–æ‰¾åˆ°ä¸€ä¸ªäº¬ä¸œå•†å“é¡µé¢ï¼Œæˆ‘è¿™é‡Œé€‰çš„æ˜¯**Apple 2019æ–°å“ MacBook Pro 16ã€å¸¦è§¦æ§æ ã€‘ä¹ä»£å…«æ ¸i9 16G 1TB æ·±ç©ºç° Radeon Pro 5500Mæ˜¾å¡ **ï¼Œé“¾æ¥æ˜¯https://item.jd.com/100010079900.htmlã€‚é“¾æ¥å¯èƒ½ä¼šå¤±æ•ˆï¼Œä¸è¿‡å…¶ä»–å•†å“é¡µé¢é“¾æ¥å®Œå…¨åŒç†ã€‚
æœ¬ä¾‹ä»…ç›´æ¥ä½¿ç”¨æœ€åçš„å®Œæ•´ä»£ç ï¼Œæˆ‘ä»¬åº”è¯¥åœ¨æ­¤ä¹‹å‰ï¼Œå…ˆå¯¹æˆ‘ä»¬çˆ¬å–çš„é¡µé¢åšä¸€äº›å‰ç½®å·¥ä½œã€‚
å‰ç½®å·¥ä½œå‚ç…§åé¢å‡ ä¸ªä¾‹å­ï¼Œä¸€èˆ¬æ˜¯å…ˆåœ¨äº¤äº’å¼é¡µé¢åšå‰ç½®å·¥ä½œï¼Œç¡®è®¤æ²¡æœ‰é—®é¢˜åï¼Œå†ä½¿ç”¨å®Œæ•´ä»£ç çˆ¬å–ã€‚
12345678910111213141516import requestsdef getHTMLText(url):    try:        r = requests.get(url)        r.raise_for_status()        r.encoding = r.apparent_encoding        return r.text[:1000] # é¡µé¢ä¸­åªæœ‰å‰é¢å°éƒ¨åˆ†æ˜¯å•†å“ä¿¡æ¯ï¼Œæ•…åªå–å‰é¢ä¸€å°éƒ¨åˆ†    except:        r ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2020/03/05/%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%AB%E7%9A%84%E7%9B%97%E4%BA%A6%E6%9C%89%E9%81%93/" title="ç½‘ç»œçˆ¬è™«çš„ç›—äº¦æœ‰é“">ç½‘ç»œçˆ¬è™«çš„ç›—äº¦æœ‰é“</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">å‘è¡¨äº</span><time datetime="2020-03-05T14:46:21.000Z" title="å‘è¡¨äº 2020-03-05 22:46:21">2020-03-05</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/Python%E7%88%AC%E8%99%AB/">Pythonçˆ¬è™«</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/%E7%88%AC%E8%99%AB/">çˆ¬è™«</a></span></div><div class="content">1. ç½‘ç»œçˆ¬è™«çš„å°ºå¯¸


åºå·
è§„æ¨¡
æ•°æ®é‡
çˆ¬å–é€Ÿåº¦
ç¬¬ä¸‰æ–¹åº“
ç›®çš„



1
å°
å°
ä¸æ•æ„Ÿ
Requeståº“
çˆ¬å–ç½‘é¡µ ç©è½¬ç½‘é¡µ


2
ä¸­
ä¸­
æ•æ„Ÿ
Scrapyåº“
çˆ¬å–ç½‘ç«™ çˆ¬å–ç³»åˆ—ç½‘ç«™


3
å¤§
å¤§
éå¸¸å…³é”®
å®šåˆ¶å¼€å‘
çˆ¬å–å…¨ç½‘ æ„å»ºæœç´¢å¼•æ“


æˆ‘ä»¬å¹³æ—¶è§åˆ°çš„ç½‘ç»œçˆ¬è™«ï¼Œå°è§„æ¨¡çš„ç½‘é¡µçˆ¬è™«å åˆ°äº†90%ä»¥ä¸Šçš„æ¯”ä¾‹ã€‚
ä¸è¦çœ‹è¿™æ ·çš„çˆ¬è™«å¾ˆå°ï¼Œä½†æ˜¯å®ƒé’ˆå¯¹ç‰¹å®šç½‘é¡µæˆ–ä¸€ç³»åˆ—çš„ç½‘é¡µï¼Œèƒ½å‘æŒ¥å¾ˆå¤§çš„ä½œç”¨ã€‚
2. ç½‘ç»œçˆ¬è™«å¼•å‘çš„é—®é¢˜
éªšæ‰°é—®é¢˜ï¼šå—é™äºç¼–å†™æ°´å¹³å’Œç›®çš„ï¼Œç½‘ç»œçˆ¬è™«å°†ä¼šä¸ºwebæœåŠ¡å™¨å¸¦æ¥å·¨å¤§çš„èµ„æºå¼€é”€ã€‚
æ³•å¾‹é£é™©ï¼šæœåŠ¡å™¨ä¸Šçš„æ•°æ®æœ‰äº§æƒå½’å±ï¼Œç½‘ç»œçˆ¬è™«è·å–æ•°æ®åç‰Ÿåˆ©å°†å¸¦æ¥æ³•å¾‹é£é™©ã€‚
æ³„éœ²éšç§ï¼šç½‘ç»œçˆ¬è™«å¯èƒ½å…·å¤‡çªç ´ç®€å•è®¿é—®æ§åˆ¶çš„èƒ½åŠ›ï¼Œè·å¾—è¢«ä¿æŠ¤æ•°æ®ä»è€Œæ³„éœ²ä¸ªäººéšç§ã€‚



3. ç½‘ç»œçˆ¬è™«çš„é™åˆ¶
æ¥æºå®¡æŸ¥ï¼šåˆ¤æ–­User-Agentè¿›è¡Œé™åˆ¶ã€‚
 æ£€æŸ¥æ¥è®¿HTTPåè®®å¤´çš„User-AgentåŸŸï¼Œåªå“åº”æµè§ˆå™¨æˆ–å‹å¥½çˆ¬è™«çš„è®¿é—®ã€‚

å‘å¸ƒå…¬å‘Šï¼šRobotsåè®®
 å‘ŠçŸ¥æ‰€æœ‰çˆ¬è™«ç½‘ç«™çš„çˆ¬å–ç­–ç•¥ï¼Œè¦æ±‚çˆ¬è™«éµå®ˆã€‚


å‘å¸ƒå…¬å‘Šä»…ä»…æ˜¯å…¬å‘Šçš„å½¢å¼ï¼Œè‡³äºç½‘ç»œçˆ¬è™«æ˜¯å¦éµå®ˆï¼Œç”±å…¶è‡ªèº«å†³å®šã€‚
é€šè¿‡ä¸Šé¢ä¸¤ä¸ªæ–¹æ³•ï¼Œäº’è”ç½‘å®ç°äº† ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2020/03/05/Requests%E5%BA%93%E5%85%A5%E9%97%A8/" title="Requestsåº“å…¥é—¨">Requestsåº“å…¥é—¨</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">å‘è¡¨äº</span><time datetime="2020-03-05T14:46:01.000Z" title="å‘è¡¨äº 2020-03-05 22:46:01">2020-03-05</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/Python%E7%88%AC%E8%99%AB/">Pythonçˆ¬è™«</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/Python/">Python</a><span class="article-meta__link">â€¢</span><a class="article-meta__tags" href="/tags/%E7%88%AC%E8%99%AB/">çˆ¬è™«</a><span class="article-meta__link">â€¢</span><a class="article-meta__tags" href="/tags/Requests/">Requests</a></span></div><div class="content">Requests is an elegant and simple HTTP library for Python, built for human beings.
å…³äºRequestsåº“æ›´å¤šä¿¡æ¯ï¼Œç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹Requestsåº“å®˜ç½‘ã€‚
1. Requsetsåº“çš„7ä¸ªä¸»è¦æ–¹æ³•


æ–¹æ³•
è¯´æ˜



requests.request()
æ„é€ ä¸€ä¸ªè¯·æ±‚ï¼Œæ”¯æ’‘ä»¥ä¸‹å„æ–¹æ³•çš„åŸºç¡€æ–¹æ³•ã€‚


requests.get()
è·å–HTMLç½‘é¡µçš„ä¸»è¦æ–¹æ³•ï¼Œå¯¹åº”äºHTTPçš„GETã€‚


requests.head()
è·å–HTMLç½‘é¡µå¤´ä¿¡æ¯çš„æ–¹æ³•ï¼Œå¯¹åº”äºHTTPçš„HEADã€‚


requests.post()
å‘HTMLç½‘é¡µæäº¤POSTè¯·æ±‚çš„æ–¹æ³•ï¼Œå¯¹åº”äºHTTPçš„POSTã€‚


requests.put()
å‘HTMLç½‘é¡µæäº¤PUTè¯·æ±‚çš„æ–¹æ³•ï¼Œå¯¹åº”äºHTTPçš„PUTã€‚


requests.patch()
å‘HTMLç½‘é¡µæäº¤å±€éƒ¨ä¿®æ”¹è¯·æ±‚ï¼Œå¯¹åº”äºHTTPçš„PATCHã€‚


requests.delete()
å‘HTMLé¡µé¢æäº¤åˆ é™¤è¯·æ±‚ï¼Œå¯¹åº”äºHTTPçš„DELETEã€‚




Requestsåº“ä¸­å…¶å®åªæœ‰ä¸€ä¸ªæ–¹ ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2020/01/20/%E3%80%8A%E7%BB%9F%E8%AE%A1%E5%AD%A6%E4%B9%A0%E6%96%B9%E6%B3%95%EF%BC%88%E7%AC%AC2%E7%89%88%EF%BC%89%E3%80%8B%E7%AC%94%E8%AE%B0/" title="ã€Šç»Ÿè®¡å­¦ä¹ æ–¹æ³•ï¼ˆç¬¬2ç‰ˆï¼‰ã€‹ç¬”è®°">ã€Šç»Ÿè®¡å­¦ä¹ æ–¹æ³•ï¼ˆç¬¬2ç‰ˆï¼‰ã€‹ç¬”è®°</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">å‘è¡¨äº</span><time datetime="2020-01-20T14:13:44.000Z" title="å‘è¡¨äº 2020-01-20 22:13:44">2020-01-20</time></span></div><div class="content">å†™åœ¨å‰é¢ã€€ã€€ç»ˆäºåœ¨è¿™ä¸ªæ—¶é—´ï¼Œå®Œæˆäº†è®ºæ–‡çš„åˆç¨¿ï¼Œè¦ç´§çš„äº‹ä¹Ÿéƒ½å‘Šä¸€æ®µè½äº†ã€‚ä¹Ÿæ˜¯æ—¶å€™å»å­¦äº›æ–°ä¸œè¥¿ï¼Œæ‰“ç®—åœ¨åé¢ä¸€ä¸ªæœˆçš„æ—¶é—´ï¼Œå•ƒä¸€å•ƒæèˆªè¿™æœ¬ä¹¦ï¼Œå¸Œæœ›å¯ä»¥æœ‰æ‰€æ”¶è·å§ã€‚ã€€ã€€è¿™ç¯‡ç¬”è®°ä¸­å¤§éƒ¨åˆ†å†…å®¹æ•´ç†è‡ªä¹¦ä¸­æ¯”è¾ƒé‡è¦çš„å†…å®¹ã€‚å¯¹äºæ¥è‡ªä¹¦ä¸­çš„å†…å®¹ï¼Œæˆ‘éƒ½åœ¨æ¯ä¸ªæ®µè½çš„æœ«å°¾ä»¥æ–œä½“çš„æ–¹å¼è®°å½•äº†å‡ºå¤„é¡µç ï¼Œä»¥ä¾¿ä»¥åå†æŸ¥é˜…ã€‚
ç¬¬1ç¯‡ ç›‘ç£å­¦ä¹ ã€€ã€€æœ¬ä¹¦ç¬¬1ç¯‡ä»‹ç»ç›‘ç£å­¦ä¹ æ–¹æ³•ï¼Œä¸»è¦åŒ…æ‹¬ç”¨äºåˆ†ç±»ã€æ ‡æ³¨ä¸å›å½’é—®é¢˜çš„æ–¹æ³•ã€‚è¿™äº›æ–¹æ³•åœ¨è‡ªç„¶è¯­è¨€å¤„ç†ã€ä¿¡æ¯æ£€ç´¢ã€æ–‡æœ¬æ•°æ®æŒ–æ˜ç­‰é¢†åŸŸä¸­æœ‰ç€æå…¶å¹¿æ³›çš„ä½œç”¨ã€‚ï¼ˆP5ï¼‰
ç¬¬1ç«  ç»Ÿè®¡å­¦ä¹ åŠç›‘ç£å­¦ä¹ æ¦‚è®º1.1 ç»Ÿè®¡å­¦ä¹ ã€€ã€€ç»Ÿè®¡å­¦ä¹ çš„æ–¹æ³•æ˜¯åŸºäºæ•°æ®æ„å»ºæ¦‚ç‡ç»Ÿè®¡æ¨¡å‹ä»è€Œå¯¹æ•°æ®è¿›è¡Œé¢„æµ‹ä¸åˆ†æã€‚ç»Ÿè®¡å­¦ä¹ ç”±ç›‘ç£å­¦ä¹ ï¼ˆsupervised learningï¼‰ã€æ— ç›‘ç£å­¦ä¹ ï¼ˆunsupervised learningï¼‰ã€å¼ºåŒ–å­¦ä¹ ï¼ˆreinforcement learningï¼‰ç­‰ç»„æˆã€‚å¯ä»¥è¯´ç›‘ç£å­¦ä¹ ã€æ— ç›‘ç£å­¦ä¹ æ–¹æ³•æ˜¯æœ€ä¸»è¦çš„ç»Ÿè®¡å­¦ä¹ æ–¹æ³•ã€‚ï¼ˆP4ï¼‰ã€€ã€€ç»Ÿè®¡å­¦ä¹ æ–¹æ³•å¯ä»¥æ¦‚æ‹¬å¦‚ä¸‹ï¼šä»ç»™å®šçš„ã€æœ‰é™çš„ã€ç”¨äºå­¦ä¹ çš„è®­ç»ƒæ•°æ®é›†åˆå‡ºå‘ï¼Œå‡è®¾æ•°æ®æ˜¯ç‹¬ç«‹åŒåˆ†å¸ƒäº§ç”Ÿçš„ï¼›å¹¶ä¸”å‡è®¾è¦å­¦ä¹ çš„æ¨¡å‹å±äºæŸä¸ªå‡½æ•°çš„é›†åˆï¼Œç§°ä¸ºå‡è®¾ç©ºé—´ï¼›åº”ç”¨æŸä¸ªè¯„ä»·å‡†åˆ™ï¼Œ ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2019/05/24/%E3%80%8A%E5%90%B4%E6%81%A9%E8%BE%BE%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E3%80%8B%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/" title="ã€Šå´æ©è¾¾æœºå™¨å­¦ä¹ ã€‹è¯¾ç¨‹ç¬”è®°">ã€Šå´æ©è¾¾æœºå™¨å­¦ä¹ ã€‹è¯¾ç¨‹ç¬”è®°</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">å‘è¡¨äº</span><time datetime="2019-05-24T13:54:56.000Z" title="å‘è¡¨äº 2019-05-24 21:54:56">2019-05-24</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">æœºå™¨å­¦ä¹ </a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">æœºå™¨å­¦ä¹ </a></span></div><div class="content">å‰è¨€æ­¤è¯¾ç¨‹åœ¨å›½å¤–çš„ Coursera å’Œå›½å†…çš„ ç½‘æ˜“äº‘è¯¾å ‚ éƒ½æœ‰ã€‚è¯¾ç¨‹æ ¸å¿ƒæ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œä»…ç›®å½•ç»“æ„æœ‰äº›è®¸å·®åˆ«ã€‚ä¸è¿‡ç½‘æ˜“äº‘è¯¾å ‚çš„åœ¨å›½å†…çœ‹èµ·æ¥æ›´æ–¹ä¾¿ä¸€äº›ï¼Œæ‰€ä»¥æˆ‘å°±åœ¨çœ‹ç½‘æ˜“äº‘è¯¾å ‚å­¦ä¹ äº†ï¼Œç¬”è®°ä¹Ÿä»¥ç½‘æ˜“äº‘è¯¾å ‚çš„ç›®å½•ç»“æ„æ¥å†™ã€‚ä¼ é€é—¨ï¼šç½‘æ˜“äº‘è¯¾å ‚ã€Šå´æ©è¾¾æœºå™¨å­¦ä¹ ã€‹

ç¬¬1ç«  ç»ªè®ºï¼šåˆè¯†æœºå™¨å­¦ä¹ ç¬¬2ç«  å•å˜é‡çº¿æ€§å›å½’2.1 æ¨¡å‹æè¿°2.2 ä»£ä»·å‡½æ•°
Hypothesis:$$h_{\theta}(x)=\theta_0+\theta_1x$$Parameters:$$\theta_0, \theta_1$$Cost Function:$$J(\theta_0, \theta_1)=\frac{1}{2m}\sum_{i=1}^m(h_\theta(x^{(i)})-y^{(i)})^2$$Goal:$$\mathop{minimize}\limits_{\theta_0,\theta_1} \ J(\theta_0, \theta_1)$$æ³¨æ„ä¸€ä¸‹ï¼šå‡è®¾å‡½æ•° $h_\theta(x)$ï¼Œå¯¹äºç»™å®šçš„ $\theta_0, \theta_1$ï¼Œè¿™ä¸€æ˜¯ä¸ªå…³äº $x$ çš„å‡½æ•°ã€‚ä»£ä»·å‡½æ•° $J(\theta_0 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2019/04/26/Factorial-Trailing-Zeroes%EF%BC%88%E7%AE%97%E6%9C%AF%E5%9F%BA%E6%9C%AC%E5%AE%9A%E7%90%86%EF%BC%89/" title="LeetCode: 172. é˜¶ä¹˜åçš„é›¶">LeetCode: 172. é˜¶ä¹˜åçš„é›¶</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">å‘è¡¨äº</span><time datetime="2019-04-26T06:50:53.000Z" title="å‘è¡¨äº 2019-04-26 14:50:53">2019-04-26</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/LeetCode/">LeetCode</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/LeetCode/">LeetCode</a><span class="article-meta__link">â€¢</span><a class="article-meta__tags" href="/tags/%E6%95%B0%E5%AD%A6/">æ•°å­¦</a></span></div><div class="content">åŸé¢˜é“¾æ¥ï¼ˆè‹±æ–‡ï¼‰ï¼šhttps://leetcode.com/problems/factorial-trailing-zeroes/description/åŸé¢˜é“¾æ¥ï¼ˆä¸­æ–‡ï¼‰ï¼šhttps://leetcode-cn.com/problems/factorial-trailing-zeroes/description/
å¦‚æœå°†ä¸€ä¸ªæ­£æ•´æ•°å› å¼åˆ†è§£ï¼Œé‚£ä¹ˆå…¶æœ«å°¾çš„ $0$ å¿…ç„¶å¯ä»¥åˆ†è§£ä¸º $2\times 5$ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå› å­ä¸­æ¯ä¸€å¯¹ $2$ å’Œ $5$ å°±å¯¹åº”ç€æœ«å°¾çš„ä¸€ä¸ª $0$ï¼Œå› ä¸º $2$ è‚¯å®šæ¯” $5$ å¤šã€‚ç»¼ä¸Šï¼Œæ‰€ä»¥æˆ‘ä»¬åªè¦ç»Ÿè®¡å› å­ä¸­æœ‰å¤šå°‘ä¸ª $5$ å°±æ˜¯ç»“æœäº†ã€‚æ ¹æ®ç®—æœ¯åŸºæœ¬å®šç†ä¸­æ€§è´¨(5)ï¼š$n!$ çš„ç´ å› å­åˆ†è§£ä¸­çš„ç´ æ•° $p$ çš„å¹‚ä¸º $[\frac{n}{p}]+[\frac{n}{p^2}]+[\frac{n}{p^3}]+\cdots$æˆ‘ä»¬æŠŠ $p=5$ ä»£å…¥ï¼Œè®¡ç®—å‡ºç»“æœå³ä¸ºæ‰€æ±‚ã€‚
12345678910111213int trailingZeroes(int n)&#123;    int count_zeros = 0;    long long p = 5;        ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2019/04/26/LeetCode-98-Validate-Binary-Search-Tree/" title="LeetCode: 98. éªŒè¯äºŒå‰æœç´¢æ ‘">LeetCode: 98. éªŒè¯äºŒå‰æœç´¢æ ‘</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">å‘è¡¨äº</span><time datetime="2019-04-26T05:06:44.000Z" title="å‘è¡¨äº 2019-04-26 13:06:44">2019-04-26</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/LeetCode/">LeetCode</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/LeetCode/">LeetCode</a><span class="article-meta__link">â€¢</span><a class="article-meta__tags" href="/tags/%E6%A0%91/">æ ‘</a><span class="article-meta__link">â€¢</span><a class="article-meta__tags" href="/tags/%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2/">æ·±åº¦ä¼˜å…ˆæœç´¢</a></span></div><div class="content">åŸé¢˜é“¾æ¥ï¼ˆè‹±æ–‡ï¼‰ï¼šhttps://leetcode.com/problems/validate-binary-search-tree/åŸé¢˜é“¾æ¥ï¼ˆä¸­æ–‡ï¼‰ï¼šhttps://leetcode-cn.com/problems/validate-binary-search-tree/
è¿™ä¸ªé¢˜ä¸»è¦æœ‰ä¸¤ç§è§£æ³•ï¼šä¸€ã€åˆ©ç”¨äºŒå‰æœç´¢æ ‘çš„æ€§è´¨ï¼šä¸­åºéå†åºåˆ—ä¸¥æ ¼å•è°ƒé€’å¢ã€‚äºŒã€é€’å½’æ³•é€ä¸€åˆ¤æ–­æ¯ä¸ªç»“ç‚¹ï¼ˆå­æ ‘ï¼‰æ˜¯å¦æ»¡è¶³äºŒå‰æœç´¢æ ‘çš„ç‰¹å¾ã€‚

æ–¹æ³•ä¸€ï¼š
æˆ‘ä»¬åªéœ€è¦å¯¹æ­¤äºŒå‰æ ‘è¿›è¡Œä¸€æ¬¡ä¸­åºéå†ï¼ŒæŸ¥çœ‹å…¶ä¸­åºéå†åºåˆ—æ˜¯å¦æ˜¯ä¸¥æ ¼å•è°ƒé€’å¢çš„å³å¯ã€‚
æˆ‘ä»¬å¹¶ä¸éœ€è¦å°†è¿™ä¸ªæ ‘çš„ä¸­åºéå†åºåˆ—è®°å½•ä¸‹æ¥ï¼Œä¹Ÿå¯èƒ½ä¸éœ€è¦éå†å®Œæ•´æ£µæ ‘ã€‚å½“æˆ‘ä»¬éå†åˆ°æŸç»“ç‚¹æ—¶ï¼Œåªéœ€è¦æ¯”è¾ƒä¸€ä¸‹çœ‹çœ‹è¿™ä¸ªç»“ç‚¹çš„å€¼æ˜¯å¦å¤§äºä¸Šä¸€ä¸ªéå†çš„ç»“ç‚¹çš„å€¼ã€‚å› æ­¤æˆ‘ä»¬åªéœ€è¦è®°å½•ä¸Šä¸€ä¸ªéå†çš„ç»“ç‚¹çš„å€¼ $inorder\_last\_val$ï¼Œå¹¶æ¯å½“éå†è¿‡ä¸€ä¸ªç»“ç‚¹åï¼Œæ›´æ–°è¯¥å€¼ã€‚å¦‚æœéå†åˆ°æŸä¸ªç»“ç‚¹æ—¶ï¼Œå‘ç°å½“å‰ç»“ç‚¹çš„å€¼æ¯” $inorder\_last\_val$ å°ï¼Œè¯´æ˜è¿™ä¸æ˜¯ä¸€ä¸ªäºŒå‰æœç´¢æ ‘ï¼Œç›´æ¥ä¸­æ–­éå†å¹¶è¿”å› $false$ï¼›å¦‚æœéå†å®Œæ•´æ£µæ ‘éƒ½æ²¡æœ‰å‡ºç°è¿™ç§æƒ…å†µï¼Œé‚£ä¹ˆè¿™å°±æ˜¯ä¸€ä¸ªäºŒå‰æœç´¢æ ‘ï¼Œè¿”å› $tr ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2019/02/17/%E4%BD%BF%E7%94%A8SSR%E5%AE%9E%E7%8E%B0%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/" title="ä½¿ç”¨SSRå®ç°ç§‘å­¦ä¸Šç½‘">ä½¿ç”¨SSRå®ç°ç§‘å­¦ä¸Šç½‘</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">å‘è¡¨äº</span><time datetime="2019-02-16T16:00:00.000Z" title="å‘è¡¨äº 2019-02-17 00:00:00">2019-02-17</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E8%8A%B1%E5%BC%8F%E6%8A%98%E8%85%BE%E8%BF%87%E7%A8%8B%E4%B8%AD%E7%9A%84%E4%B8%80%E4%BA%9B%E8%AE%B0%E5%BD%95%E6%88%96%E7%BB%8F%E9%AA%8C/">èŠ±å¼æŠ˜è…¾è¿‡ç¨‹ä¸­çš„ä¸€äº›è®°å½•æˆ–ç»éªŒ</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/ssr/">ssr</a></span></div><div class="content">ä¸€ã€è´­ä¹°VPSVPSé€‰æ‹©è°å®¶çš„éƒ½å¯ä»¥ï¼Œä¾‹å¦‚æ¬ç“¦å·¥å’ŒVultrï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯Vultrçš„ã€‚ç³»ç»Ÿå»ºè®®é€‰æ‹©Debianï¼Œå› ä¸ºæœ¬æ–‡åé¢è¦ä½¿ç”¨çš„è„šæœ¬åœ¨Debianä¸Šæ”¯æŒä¸€é”®é…ç½®è°·æ­ŒBBRåŠ é€Ÿã€‚æœ¬ç¯‡æ–‡ç« é‡ç‚¹åœ¨äºé…ç½®SSRï¼Œå°±ä¸åœ¨è´­ä¹°VPSå¤„å¤šè´¹å£èˆŒäº†ã€‚
æ³¨æ„ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„IPåœ°å€éƒ½å¯è¡Œçš„ï¼Œæˆ‘ä»¬åœ¨å¼€å§‹é…ç½®SSRä¹‹å‰ï¼Œè¦ç¡®ä¿æˆ‘ä»¬VPSçš„22å·ç«¯å£ä¸ºå¼€æ”¾çŠ¶æ€ã€‚å¦‚æœ22å·ç«¯å£æ˜¯å…³é—­çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è¦æ‘§æ¯å¹¶é‡å»ºVPSï¼Œç›´åˆ°è·å¾—ä¸€ä¸ª22å·ç«¯å£ä¸ºå¼€æ”¾çš„IPåœ°å€ã€‚ä½ å¯ä»¥ç”¨å‘½ä»¤è¡Œçš„æ–¹å¼æ¥åˆ¤æ–­æŸä¸ªç«¯å£æ˜¯å¦æ‰“å¼€ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€äº›ç½‘ç«™å·¥å…·æ¥å¸®åŠ©ä½ ã€‚è¿™é‡Œåˆ†äº«å‡ ä¸ªå¯ä»¥è¿›è¡Œç«¯å£æ‰«æçš„ç½‘ç«™ï¼š1. https://www.yougetsignal.com/tools/open-ports/2. http://coolaf.com/tool/port3. http://tool.chinaz.com/update.html
äºŒã€ä¸‹è½½å¹¶æ‰§è¡Œè„šæœ¬1. ä½¿ç”¨SSHè¿æ¥VPSMacOSä½¿ç”¨ç»ˆç«¯ï¼Œè¾“å…¥ ssh root@xxx.xxx.xxx.xxxï¼Œåé¢æ˜¯ä½ çš„IPåœ°å€ï¼Œå†è¾“å…¥å¯†ç å³å¯ã€‚Windowsä½¿ç”¨XShellå·¥å…·ï¼Œæ‰‹åŠ¨è¾“å…¥IPåœ°å€ï¼Œç”¨æˆ·åâ€ ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2018/10/30/HDU-3555-Bomb-%E6%95%B0%E4%BD%8DDP/" title="HDU-3555 Bomb (æ•°ä½DP)">HDU-3555 Bomb (æ•°ä½DP)</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">å‘è¡¨äº</span><time datetime="2018-10-30T07:56:31.000Z" title="å‘è¡¨äº 2018-10-30 15:56:31">2018-10-30</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E9%A2%98%E8%A7%A3/">é¢˜è§£</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/">åŠ¨æ€è§„åˆ’</a><span class="article-meta__link">â€¢</span><a class="article-meta__tags" href="/tags/HDU/">HDU</a><span class="article-meta__link">â€¢</span><a class="article-meta__tags" href="/tags/%E6%95%B0%E4%BD%8DDP/">æ•°ä½DP</a></span></div><div class="content">æè¿°ä¼ é€é—¨ï¼šhttp://acm.hdu.edu.cn/showproblem.php?pid=3555
ç»™ä½ ä¸€ä¸ªæ•° Nï¼Œé—®åœ¨ä» 1 ~ N çš„æ•°ä¸­æœ‰å¤šå°‘ä¸ªæ•°åŒ…å« â€œ49â€ï¼Œå…¶ä¸­ 4 å’Œ 9 å¿…é¡»æ˜¯è¿ç»­çš„ã€‚ä¾‹å¦‚ 1 ~ 500ä¸­ï¼Œæœ‰ 49, 149, 249, 349, 449, 490, 491, 492, 493, 494, 495, 496, 497, 498, 499 ä¸€å…± 15 ä¸ªæ•°åŒ…å« â€œ49â€ï¼Œæ‰€ä»¥ç­”æ¡ˆæ˜¯ 15ã€‚
æ€è·¯é¢˜ç›®èŒƒå›´å·²ç»åˆ°äº† long long çš„è¾¹ç•Œäº†ï¼Œæš´åŠ›è‚¯å®šä¸å¯è¡Œã€‚ç„¶åè¿™ä¸ªé¢˜çœ‹èµ·æ¥å°±æ˜¯æ•°ä½DPçš„ç®€å•é¢˜ ğŸ˜‚ã€‚åªè¦åœ¨dfs()å‡½æ•°ä¸­è®°å½•ä¸‹ä¸Šä¸€ä¸ªæ•°æ˜¯ä¸æ˜¯ 4 å°±å¯ä»¥äº†ï¼Œç„¶åå°†ç®—å¥½çš„å€¼å­˜åœ¨ dp æ•°ç»„ä¸­ï¼Œè®°å¿†åŒ–æœç´¢ï¼Œè¿™æ ·ä¾¿å¯ä»¥ç®—å‡ºæœ‰å¤šå°‘ä¸ªæ•°ä¸åŒ…å« â€œ49â€ï¼Œå†åšä¸€ä¸‹å‡æ³•å°±æ˜¯ç­”æ¡ˆäº†ã€‚å”¯ä¸€è¦æ³¨æ„çš„ä¹Ÿå°±æ˜¯è¿™ä¸ªé¢˜çš„èŒƒå›´äº†ã€‚


ä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647#include &lt;iostream&gt;#include &l ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/6/"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><a class="extend next" rel="next" href="/page/8/"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside_content" id="aside_content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><img class="avatar-img" src="/img/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">GuKaifeng</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">100</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">102</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">15</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/gukaifeng"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="mailto:forjobs@gukaifeng.me" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div></div><div class="card-widget card-announcement"><div class="card-content"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>å…¬å‘Š</span></div><div class="announcement_content">æ¬¢è¿å¤§å®¶ï¼æ¯æ¡è¯„è®ºæˆ‘éƒ½æœ‰çœ‹ï¼Œåªè¦æœ‰æ—¶é—´ä¸€å®šä¼šå›å¤çš„ã€‚å…±å‹‰ã€‚</div></div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="card-content"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2020/12/31/macOS-%E4%B8%8B%E4%BD%BF%E7%94%A8-VS-Code-%E9%85%8D%E7%BD%AE%E8%BF%9C%E7%A8%8B%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/" title="macOS ä¸‹ä½¿ç”¨ VS Code é…ç½®è¿œç¨‹å¼€å‘å·¥å…·">macOS ä¸‹ä½¿ç”¨ VS Code é…ç½®è¿œç¨‹å¼€å‘å·¥å…·</a><time datetime="2020-12-31T05:39:49.000Z" title="å‘è¡¨äº 2020-12-31 13:39:49">2020-12-31</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2020/12/31/CentOS-8-%E4%B8%BA%E7%AA%97%E5%8F%A3%E6%B7%BB%E5%8A%A0%E6%9C%80%E5%A4%A7-%E6%9C%80%E5%B0%8F%E5%8C%96%E6%8C%89%E9%92%AE/" title="CentOS 8 ä¸ºçª—å£æ·»åŠ æœ€å¤§/æœ€å°åŒ–æŒ‰é’®">CentOS 8 ä¸ºçª—å£æ·»åŠ æœ€å¤§/æœ€å°åŒ–æŒ‰é’®</a><time datetime="2020-12-31T02:51:15.000Z" title="å‘è¡¨äº 2020-12-31 10:51:15">2020-12-31</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2020/12/31/CentOS-8-%E5%9C%A8-root-%E5%92%8C%E6%99%AE%E9%80%9A%E7%94%A8%E6%88%B7%E9%97%B4%E5%88%87%E6%8D%A2%E7%9A%84%E6%96%B9%E6%B3%95/" title="CentOS 8 åœ¨ root å’Œæ™®é€šç”¨æˆ·é—´åˆ‡æ¢çš„æ–¹æ³•">CentOS 8 åœ¨ root å’Œæ™®é€šç”¨æˆ·é—´åˆ‡æ¢çš„æ–¹æ³•</a><time datetime="2020-12-31T02:39:11.000Z" title="å‘è¡¨äº 2020-12-31 10:39:11">2020-12-31</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2020/12/30/%E4%BD%BF%E7%94%A8-PicGo-GitHub-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%85%8D%E8%B4%B9%E5%9B%BE%E5%BA%8A/" title="ä½¿ç”¨ PicGo + GitHub æ­å»ºä¸ªäººå…è´¹å›¾åºŠ">ä½¿ç”¨ PicGo + GitHub æ­å»ºä¸ªäººå…è´¹å›¾åºŠ</a><time datetime="2020-12-30T01:36:29.000Z" title="å‘è¡¨äº 2020-12-30 09:36:29">2020-12-30</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2020/04/05/MacOS%E4%B8%8A%E7%9A%84%E5%AE%9E%E7%94%A8%E5%B0%8F%E5%B7%A5%E5%85%B7/" title="MacOSä¸Šçš„å®ç”¨å°å·¥å…·">MacOSä¸Šçš„å®ç”¨å°å·¥å…·</a><time datetime="2020-04-05T14:41:29.000Z" title="å‘è¡¨äº 2020-04-05 22:41:29">2020-04-05</time></div></div></div></div></div><div class="card-widget" id="card-newest-comments"><div class="card-content"><div class="item-headline"><i class="fas fa-bolt"></i><span>æœ€æ–°è¯„è®º</span></div><div class="aside-list"><span>æ­£åœ¨åŠ è½½ä¸­...</span></div></div></div><div class="card-widget card-categories"><div class="card-content"><div class="item-headline"><i class="fas fa-folder-open"></i><span>åˆ†ç±»</span></div><ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/JavaEE/"><span class="card-category-list-name">JavaEE</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/JavaSE/"><span class="card-category-list-name">JavaSE</span><span class="card-category-list-count">40</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/LeetCode/"><span class="card-category-list-name">LeetCode</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Python/"><span class="card-category-list-name">Python</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Python%E7%88%AC%E8%99%AB/"><span class="card-category-list-name">Pythonçˆ¬è™«</span><span class="card-category-list-count">10</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/VS-Code-%E5%A4%A9%E4%B8%8B%E7%AC%AC%E4%B8%80/"><span class="card-category-list-name">VS Code å¤©ä¸‹ç¬¬ä¸€</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E4%BF%A1%E6%81%AF%E6%A0%87%E8%AE%B0/"><span class="card-category-list-name">ä¿¡æ¯æ ‡è®°</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%95%B0%E8%AE%BA/"><span class="card-category-list-name">æ•°è®º</span><span class="card-category-list-count">9</span></a></li>
            <li class="card-category-list-item more is-center"><a class="card-category-list-link-more" href="/categories/">
                <span>æŸ¥çœ‹æ›´å¤š</span><i class="fas fa-angle-right"></i></a></li>
            </ul></div></div><div class="card-widget card-tags"><div class="card-content"><div class="item-headline"><i class="fas fa-tags"></i><span>æ ‡ç­¾</span></div><div class="card-tag-cloud"><a href="/tags/ACM/" style="font-size: 1.14em; color: rgb(125, 101, 71)">ACM</a><a href="/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" style="font-size: 1.18em; color: rgb(161, 159, 169)">åŠ¨æ€è§„åˆ’</a><a href="/tags/%E7%8A%B6%E6%80%81DP/" style="font-size: 1.1em; color: rgb(103, 162, 57)">çŠ¶æ€DP</a><a href="/tags/POJ/" style="font-size: 1.34em; color: rgb(74, 76, 42)">POJ</a><a href="/tags/DFS%E5%BA%8F/" style="font-size: 1.1em; color: rgb(76, 183, 125)">DFSåº</a><a href="/tags/%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84/" style="font-size: 1.14em; color: rgb(119, 171, 68)">æ ‘çŠ¶æ•°ç»„</a><a href="/tags/Python/" style="font-size: 1.38em; color: rgb(133, 11, 5)">Python</a><a href="/tags/bs4/" style="font-size: 1.3em; color: rgb(170, 66, 22)">bs4</a><a href="/tags/BeautifulSoup/" style="font-size: 1.3em; color: rgb(139, 55, 161)">BeautifulSoup</a><a href="/tags/%E7%88%AC%E8%99%AB/" style="font-size: 1.42em; color: rgb(4, 10, 56)">çˆ¬è™«</a><a href="/tags/LightOJ/" style="font-size: 1.14em; color: rgb(165, 47, 113)">LightOJ</a><a href="/tags/%E6%AC%A7%E6%8B%89%E5%87%BD%E6%95%B0/" style="font-size: 1.22em; color: rgb(48, 37, 171)">æ¬§æ‹‰å‡½æ•°</a><a href="/tags/%E7%B4%A0%E6%95%B0%E7%AD%9B/" style="font-size: 1.1em; color: rgb(158, 115, 84)">ç´ æ•°ç­›</a><a href="/tags/%E6%89%A9%E5%B1%95%E6%AC%A7%E5%87%A0%E9%87%8C%E5%BE%97/" style="font-size: 1.1em; color: rgb(100, 119, 126)">æ‰©å±•æ¬§å‡ é‡Œå¾—</a><a href="/tags/%E8%B4%AA%E5%BF%83/" style="font-size: 1.1em; color: rgb(55, 10, 199)">è´ªå¿ƒ</a><a href="/tags/%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91/" style="font-size: 1.1em; color: rgb(173, 5, 178)">æ–æ³¢é‚£å¥‘</a><a href="/tags/LeetCode/" style="font-size: 1.14em; color: rgb(117, 24, 15)">LeetCode</a><a href="/tags/%E6%95%B0%E5%AD%A6/" style="font-size: 1.1em; color: rgb(44, 97, 6)">æ•°å­¦</a><a href="/tags/%E5%89%8D%E7%BC%80%E5%92%8C/" style="font-size: 1.1em; color: rgb(172, 127, 189)">å‰ç¼€å’Œ</a><a href="/tags/HDU/" style="font-size: 1.22em; color: rgb(111, 146, 29)">HDU</a><a href="/tags/%E8%8E%AB%E6%AF%94%E4%B9%8C%E6%96%AF%E5%8F%8D%E6%BC%94/" style="font-size: 1.14em; color: rgb(166, 152, 76)">è«æ¯”ä¹Œæ–¯åæ¼”</a><a href="/tags/%E6%95%B0%E4%BD%8DDP/" style="font-size: 1.14em; color: rgb(37, 163, 47)">æ•°ä½DP</a><a href="/tags/HTTP/" style="font-size: 1.1em; color: rgb(63, 24, 145)">HTTP</a><a href="/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/" style="font-size: 1.18em; color: rgb(38, 175, 27)">æœåŠ¡å™¨</a><a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 1.1em; color: rgb(126, 119, 138)">è®¡ç®—æœºç½‘ç»œ</a><a href="/tags/Java/" style="font-size: 1.5em; color: rgb(100, 36, 43)">Java</a><a href="/tags/JavaEE/" style="font-size: 1.14em; color: rgb(103, 27, 148)">JavaEE</a><a href="/tags/JDBC/" style="font-size: 1.1em; color: rgb(46, 156, 68)">JDBC</a><a href="/tags/JavaSE/" style="font-size: 1.46em; color: rgb(73, 114, 68)">JavaSE</a><a href="/tags/JCF/" style="font-size: 1.26em; color: rgb(172, 61, 7)">JCF</a><a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 1.26em; color: rgb(70, 96, 71)">æ•°æ®ç»“æ„</a><a href="/tags/%E5%AE%B9%E5%99%A8/" style="font-size: 1.26em; color: rgb(182, 74, 82)">å®¹å™¨</a><a href="/tags/List/" style="font-size: 1.14em; color: rgb(121, 124, 69)">List</a><a href="/tags/Set/" style="font-size: 1.14em; color: rgb(73, 163, 170)">Set</a><a href="/tags/Map/" style="font-size: 1.14em; color: rgb(140, 104, 60)">Map</a><a href="/tags/Collections/" style="font-size: 1.1em; color: rgb(22, 42, 163)">Collections</a><a href="/tags/Arrays/" style="font-size: 1.1em; color: rgb(86, 37, 51)">Arrays</a><a href="/tags/%E6%95%B0%E7%BB%84/" style="font-size: 1.1em; color: rgb(176, 177, 32)">æ•°ç»„</a><a href="/tags/Servlet/" style="font-size: 1.14em; color: rgb(118, 185, 113)">Servlet</a><a href="/tags/JavaWeb/" style="font-size: 1.1em; color: rgb(47, 180, 88)">JavaWeb</a></div></div></div><div class="card-widget card-archives"><div class="card-content"><div class="item-headline"><i class="fas fa-archive"></i><span>å½’æ¡£</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/12/"><span class="card-archive-list-date">åäºŒæœˆ 2020</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/04/"><span class="card-archive-list-date">å››æœˆ 2020</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/03/"><span class="card-archive-list-date">ä¸‰æœˆ 2020</span><span class="card-archive-list-count">59</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/01/"><span class="card-archive-list-date">ä¸€æœˆ 2020</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2019/05/"><span class="card-archive-list-date">äº”æœˆ 2019</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2019/04/"><span class="card-archive-list-date">å››æœˆ 2019</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2019/02/"><span class="card-archive-list-date">äºŒæœˆ 2019</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2018/10/"><span class="card-archive-list-date">åæœˆ 2018</span><span class="card-archive-list-count">17</span></a></li><li class="card-archive-list-item more is-center"><a class="card-archive-list-link-more" href="/archives/">
              <span>æŸ¥çœ‹æ›´å¤š</span><i class="fas fa-angle-right"  ></i></a></li></ul></div></div><div class="card-widget card-webinfo"><div class="card-content"><div class="item-headline"><i class="fas fa-chart-line"></i><span>ç½‘ç«™èµ„è®¯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">æ–‡ç« æ•°ç›® :</div><div class="item-count">100</div></div><div class="webinfo-item"><div class="item-name">å·²è¿è¡Œæ—¶é—´ :</div><div class="item-count" id="runtimeshow" data-publishDate="2016-11-20T16:00:00.000Z"></div></div><div class="webinfo-item"><div class="item-name">æœ¬ç«™è®¿å®¢æ•° :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">æœ¬ç«™æ€»è®¿é—®é‡ :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">æœ€åæ›´æ–°æ—¶é—´ :</div><div class="item-count" id="last-push-date" data-lastPushDate="2020-12-31T05:55:06.036Z"></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2016 - 2020 By GuKaifeng</div><div class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="ç®€ç¹è½¬æ¢">ç®€</button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i></button></div></div><div id="algolia-search"><div class="search-dialog"><div class="search-dialog__title" id="algolia-search-title">Algolia</div><div id="algolia-input-panel"><div id="algolia-search-input"></div></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-stats"></div></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/algolia.js"></script><div class="js-pjax"><script>function subtitleType () {
  fetch('https://api.btstu.cn/yan/api.php?charset=utf-8&encode=json')
    .then(response => response.json())
    .then(data => {
      if (true) {
        var sub = "Never put off till tomorrow what you can do today.".length == 0 ? new Array() : "Never put off till tomorrow what you can do today.".split(',')
        var both = sub.unshift(data.text)
        typed = new Typed('#subtitle', {
          strings: sub,
          startDelay: 300,
          typeSpeed: 150,
          loop: false,
          backSpeed: 50,
        })
      } else {
        document.getElementById('subtitle').innerHTML = data.text
      }
    })
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
  }
} else {
  subtitleType()
}
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.17.0/js/md5.min.js"></script><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<[^>]+>/g,"") // remove html tag
    content = content.replace(/(http(s?):)([/|.|\w|\s|-])*\.(?:jpg|jpeg|gif|png|webp)/g, '') // remove image link
    content = content.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi, '') // remove url

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getIcon = (icon, mail) => {
    if (icon) return icon
    
    let defaultIcon = '?d=mp'
    let iconUrl = `https://gravatar.loli.net/avatar/${md5(mail.toLowerCase()) + defaultIcon}`
    return iconUrl
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          let name = 'src'
          if(false) {
            name = 'data-lazy-src'
          }
          result += `<a href='${array[i].url}' class="thumbnail"><img ${name}='${getIcon(array[i].avatar, array[i].mail)}' alt='${array[i].nick}'></a>`
        }

        result += `<div class='content'>
        <a class='comment' href='${array[i].url}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick}</span><time> / ${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += 'æ²¡æœ‰è¯„è®º'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const getComment = () => {
      let serverURL = ''
      if (false) {
        serverURL = ''
      } else {
        serverURL = 'https://Bw3B2xti.api.lncldglobal.com'
      }

    var settings = {
      "method": "GET",
      "headers": {
        "X-LC-Id": 'Bw3B2xtiOk0tPYNFgGK5b2lU-gzGzoHsz',
        "X-LC-Key": 'AhpDyCsoTrgQHeT7FVeb6Rt9',
        "Content-Type": "application/json"
      },
    }

    fetch(`${serverURL}/1.1/classes/Comment?limit=6&order=-createdAt`,settings)
      .then(response => response.json())
      .then(data => {
        const valineArray = data.results.map(function (e) {
          return {
            'avatar': e.QQAvatar,
            'content': changeContent(e.comment),
            'mail': e.mail,
            'nick': e.nick,
            'url': e.url,
            'date': e.createdAt,
          }
        })
        saveToLocal.set('leancloud-newest-comments', JSON.stringify(valineArray), 10/(60*24))
        generateHtml(valineArray)
      }).catch(e => {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.innerHTML= "æ— æ³•è·å–è¯„è®ºï¼Œè¯·ç¡®è®¤ç›¸å…³é…ç½®æ˜¯å¦æ­£ç¡®"
      }) 
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('leancloud-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script src="/js/custom.js"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script></div></body></html>